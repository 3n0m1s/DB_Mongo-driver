<!DOCTYPE html>

<html lang="en">
<head>
	<script src="./../js/jquery-1.11.0.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"> 
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <meta charset="utf-8" />
    <title>Table</title>
</head>
<body>

<div style="margin-left:20px">
    <table></table>
</div>

        <script type="text/javascript"> 
        
 function httpGet(theUrl)
{
    var xmlHttp = new XMLHttpRequest();
    xmlHttp.open( "GET", theUrl, false ); // false for synchronous request
    xmlHttp.send( null );
    return xmlHttp.responseText;
}

 function cTable() {
	 
 	//var json = httpGet("http://localhost/getPersone"); // se il db è in run sul client del visitatore [(Tipo blockchain)]
	var json = httpGet("/getPersone"); //su stesso host del server
        var js = JSON.parse(json);
        var tr;
        
        for (var i = 0; i < js.length; i++) {
            tr = $('<tr/>');
            tr.append("<td>" + js[i]._id + "</td>");
            tr.append("<td>" + js[i].Name + "</td>");
            tr.append("<td>" + js[i].Phones + "</td>");
            tr.append("<td>" + js[i].IsActive+ "</td>");
            $('table').append(tr);
        }

}

cTable();

   </script>


</body>



</html>
